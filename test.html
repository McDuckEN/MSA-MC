<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏุณุชุงุฑ ููุดููุฏ ุฏุงูุดฺฏุงู ููุชุธุฑ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1a237e 0%, #303f9f 100%);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
            border-bottom: 5px solid #ffd600;
        }

        .university-brand {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .university-logo {
            width: 60px;
            height: 60px;
            background: #ffd600;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #1a237e;
            font-size: 24px;
        }

        header h1 {
            font-size: 2.2rem;
            margin-bottom: 5px;
        }

        header .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .ai-status {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            background: #4caf50;
            border-radius: 50%;
            margin-left: 8px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .main-content {
            display: flex;
            height: 600px;
        }

        .chat-container {
            flex: 3;
            display: flex;
            flex-direction: column;
            border-left: 1px solid #eee;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
            background-image: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), 
                              url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.05"><text x="50%" y="50%" font-family="Arial" font-size="14" text-anchor="middle" dominant-baseline="middle">ุฏุงูุดฺฏุงู ููุชุธุฑ</text></svg>');
        }

        .message {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }

        .user-message {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 18px;
            border-radius: 18px;
            position: relative;
            line-height: 1.6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .user-message .message-content {
            background: linear-gradient(135deg, #1a237e 0%, #303f9f 100%);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .bot-message .message-content {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
            border-bottom-left-radius: 5px;
        }

        .message-time {
            font-size: 0.7rem;
            margin-top: 5px;
            opacity: 0.7;
            text-align: left;
        }

        .input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        #user-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            outline: none;
            font-size: 16px;
            transition: all 0.3s;
            background: #f8f9fa;
        }

        #user-input:focus {
            border-color: #1a237e;
            background: white;
            box-shadow: 0 0 0 3px rgba(26, 35, 126, 0.1);
        }

        #send-btn {
            padding: 15px 25px;
            background: linear-gradient(135deg, #1a237e 0%, #303f9f 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        #send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(26, 35, 126, 0.3);
        }

        .sidebar {
            flex: 1;
            background: #f5f5f5;
            padding: 20px;
            display: flex;
            flex-direction: column;
            min-width: 300px;
        }

        .university-info {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
            border-right: 4px solid #1a237e;
        }

        .university-info h3 {
            color: #1a237e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .contact-info {
            font-size: 0.9rem;
            color: #666;
        }

        .contact-info div {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-questions {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            flex: 1;
            border-right: 4px solid #ffd600;
        }

        .quick-questions h3 {
            color: #1a237e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quick-btn {
            display: block;
            width: 100%;
            padding: 12px 15px;
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            text-align: right;
            transition: all 0.3s;
            font-size: 14px;
            color: #333;
        }

        .quick-btn:hover {
            background: #1a237e;
            color: white;
            transform: translateX(-5px);
            border-color: #1a237e;
        }

        .typing-indicator {
            display: none;
            padding: 12px 18px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            width: fit-content;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #1a237e;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .chat-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .action-btn {
            padding: 8px 15px;
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
            color: #666;
        }

        .action-btn:hover {
            background: #1a237e;
            color: white;
        }

        footer {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
                height: auto;
            }
            
            .sidebar {
                order: -1;
                min-width: auto;
            }
            
            .message-content {
                max-width: 85%;
            }
            
            .university-brand {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="ai-status">
                <span>ููุด ูุตููุน ูุนุงู</span>
                <div class="status-dot"></div>
            </div>
            <div class="university-brand">
                <div class="university-logo">ู</div>
                <div>
                    <h1>ุฏุงูุดฺฏุงู ููุชุธุฑ</h1>
                    <div class="subtitle">ุฏุณุชุงุฑ ููุดููุฏ ุขููุฒุด</div>
                </div>
            </div>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <div class="university-info">
                    <h3>๐ซ ุงุทูุงุนุงุช ุฏุงูุดฺฏุงู</h3>
                    <div class="contact-info">
                        <div>๐ ุขุฏุฑุณ: ุชูุฑุงูุ ุฎุงุจุงู ุงูููุงุจุ ุฏุงูุดฺฏุงู ููุชุธุฑ</div>
                        <div>๐ ุชููู: ฐฒฑ-ถถฑตฐฐฐฐ</div>
                        <div>๐ ูุจุณุงุช: www.montazeri-univ.ac.ir</div>
                        <div>๐ง ุงูู: info@montazeri-univ.ac.ir</div>
                        <div>๐ ุณุงุนุช ฺฉุงุฑ: ท:ณฐ ุชุง ฑธ:ฐฐ</div>
                    </div>
                </div>

                <div class="quick-questions">
                    <h3>๐ ุณูุงูุงุช ูุชุฏุงูู</h3>
                    <button class="quick-btn" data-question="ุจุฑูุงูู ฺฉูุงุณ ูุง ุชุฑู ูพุงุฒ ฑดฐณ ฺุณุชุ">ุจุฑูุงูู ฺฉูุงุณโูุง ุชุฑู ูพุงุฒ</button>
                    <button class="quick-btn" data-question="ุฒูุงู ุซุจุช ูุงู ุชุฑู ุฌุฏุฏ ฺู ุฒูุงู ุงุณุชุ">ุฒูุงู ุซุจุชโูุงู ุชุฑู ุฌุฏุฏ</button>
                    <button class="quick-btn" data-question="ุดุฑุงุท ุงุฎุฐ ูุงุญุฏ ุงุถุงู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ฺฺฏููู ุงุณุชุ">ุดุฑุงุท ุงุฎุฐ ูุงุญุฏ ุงุถุงู</button>
                    <button class="quick-btn" data-question="ุงูุชุญุงูุงุช ูพุงุงู ุชุฑู ฺู ุชุงุฑุฎ ุดุฑูุน ู ุดูุฏุ">ุฒูุงู ุงูุชุญุงูุงุช ูพุงุงู ุชุฑู</button>
                    <button class="quick-btn" data-question="ุณุงุนุงุช ฺฉุงุฑ ฺฉุชุงุจุฎุงูู ูุฑฺฉุฒ ุฏุงูุดฺฏุงู ููุชุธุฑ ฺู ุณุงุนุงุช ุงุณุชุ">ุณุงุนุงุช ฺฉุงุฑ ฺฉุชุงุจุฎุงูู</button>
                    <button class="quick-btn" data-question="ุขุง ุงูฺฉุงู ุชุบุฑ ุฑุดุชู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ูุฌูุฏ ุฏุงุฑุฏุ">ุชุบุฑ ุฑุดุชู</button>
                    <button class="quick-btn" data-question="ุดุฑุงุท ุงุณุชูุงุฏู ุงุฒ ุฎูุงุจฺฏุงู ุฏุงูุดฺฏุงู ููุชุธุฑ ฺุณุชุ">ุดุฑุงุท ุฎูุงุจฺฏุงู</button>
                    <button class="quick-btn" data-question="ูุญูู ุฏุฑุงูุช ูุงู ุชุญุตู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ฺฺฏููู ุงุณุชุ">ูุงู ุชุญุตู</button>
                </div>
            </div>

            <div class="chat-container">
                <div class="chat-messages" id="chat-messages">
                    <div class="message bot-message">
                        <div class="message-content">
                            ๐ ุจู ุฏุณุชุงุฑ ููุดููุฏ ุฏุงูุดฺฏุงู ููุชุธุฑ ุฎูุด ุขูุฏุฏ!<br><br>
                            ูู ุงูุฌุงู ุชุง ุฏุฑ ููุฑุฏ:<br>
                            โข ุจุฑูุงูู ฺฉูุงุณโูุง ู ุงูุชุญุงูุงุช<br>
                            โข ุซุจุชโูุงู ู ุงูุชุฎุงุจ ูุงุญุฏ<br>
                            โข ุงุณุงุชุฏ ู ุฏุฑูุณ<br>
                            โข ฺฉุชุงุจุฎุงูู ู ุงูฺฉุงูุงุช<br>
                            โข ู ุณุงุฑ ุฎุฏูุงุช ุฏุงูุดฺฏุงู<br>
                            ุฑุงูููุงุชูู ฺฉูู.<br><br>
                            ุณูุงู ุฎูุฏุชูู ุฑู ุจูพุฑุณุฏ!
                            <div class="message-time">ูู ุงฺฉููู</div>
                        </div>
                    </div>
                </div>

                <div class="typing-indicator" id="typing-indicator">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>

                <div class="input-area">
                    <input type="text" id="user-input" placeholder="ุณูุงู ุฎูุฏ ุฑุง ุฏุฑุจุงุฑู ุฏุงูุดฺฏุงู ููุชุธุฑ ุจูพุฑุณุฏ...">
                    <button id="send-btn">
                        <span>ุงุฑุณุงู</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <div class="chat-actions">
                    <button class="action-btn" id="clear-chat">ูพุงฺฉ ฺฉุฑุฏู ฺุช</button>
                    <button class="action-btn" id="export-chat">ุฐุฎุฑู ูฺฉุงููู</button>
                </div>
            </div>
        </div>

        <footer>
            ุฏุงูุดฺฏุงู ููุชุธุฑ - ุณุณุชู ุฏุณุชุงุฑ ููุดููุฏ ุขููุฒุด | ยฉ ฑดฐณ
        </footer>
    </div>

    <script>
        class MontazeriUniversityAssistant {
            constructor() {
                this.apiKey = "sk-montazeri-university-assistant-2024";
                this.conversationHistory = [];
                this.isAPIEnabled = true;
                
                this.initializeEventListeners();
                
                setTimeout(() => {
                    this.displayMessage("ุฏุณุชุงุฑ ููุดููุฏ ุฏุงูุดฺฏุงู ููุชุธุฑ ุจุง ููููุช ุฑุงูโุงูุฏุงุฒ ุดุฏ. ุขูุงุฏู ูพุงุณุฎฺฏู ุจู ุณูุงูุงุช ุดูุง ูุณุชู!", 'bot');
                }, 1000);
            }

            initializeEventListeners() {
                const sendBtn = document.getElementById('send-btn');
                const userInput = document.getElementById('user-input');
                const quickBtns = document.querySelectorAll('.quick-btn');
                const clearBtn = document.getElementById('clear-chat');
                const exportBtn = document.getElementById('export-chat');

                if (sendBtn) {
                    sendBtn.addEventListener('click', () => this.handleUserInput());
                }
                
                if (userInput) {
                    userInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.handleUserInput();
                        }
                    });
                }

                if (quickBtns) {
                    quickBtns.forEach(btn => {
                        btn.addEventListener('click', () => {
                            const question = btn.getAttribute('data-question');
                            this.askQuestion(question);
                        });
                    });
                }

                if (clearBtn) {
                    clearBtn.addEventListener('click', () => this.clearChat());
                }

                if (exportBtn) {
                    exportBtn.addEventListener('click', () => this.exportConversation());
                }
            }

            async handleUserInput() {
                const userInput = document.getElementById('user-input');
                if (!userInput) return;
                
                const question = userInput.value.trim();
                
                if (question) {
                    await this.askQuestion(question);
                    userInput.value = '';
                }
            }

            async askQuestion(question) {
                this.displayMessage(question, 'user');
                this.showTypingIndicator();
                
                try {
                    let answer;
                    
                    if (this.isAPIEnabled) {
                        answer = await this.getAIResponse(question);
                    } else {
                        await new Promise(resolve => setTimeout(resolve, 1500));
                        answer = this.getUniversityResponse(question);
                    }
                    
                    this.hideTypingIndicator();
                    this.displayMessage(answer, 'bot');
                    
                    this.conversationHistory.push({
                        question,
                        answer,
                        timestamp: new Date().toISOString(),
                        university: "ุฏุงูุดฺฏุงู ููุชุธุฑ"
                    });
                    
                } catch (error) {
                    this.hideTypingIndicator();
                    console.error('Error:', error);
                    const fallbackAnswer = this.getUniversityResponse(question);
                    this.displayMessage(fallbackAnswer, 'bot');
                }
            }

            async getAIResponse(question) {
                // ุดุจูโุณุงุฒ ูพุงุณุฎ ููุด ูุตููุน ุจุง ุงุทูุงุนุงุช ุงุฎุชุตุงุต ุฏุงูุดฺฏุงู ููุชุธุฑ
                await new Promise(resolve => setTimeout(resolve, 2000));
                return this.generateMontazeriResponse(question);
            }

            generateMontazeriResponse(question) {
                // ูพุงฺฏุงู ุฏุงูุด ุชุฎุตุต ุฏุงูุดฺฏุงู ููุชุธุฑ
                const montazeriKnowledge = {
                    // ฺฉูุงุณโูุง ู ุจุฑูุงููโุฑุฒ
                    "ฺฉูุงุณ": [
                        "๐ ุจุฑูุงูู ฺฉูุงุณโูุง ุชุฑู ูพุงุฒ ฑดฐณ ุฏุงูุดฺฏุงู ููุชุธุฑ ุงุฒ ฒธ ุดูุฑูุฑ ุขุบุงุฒ ูโุดูุฏ. ุจุฑูุงูู ฺฉุงูู ูุฑ ุฑุดุชู ุฏุฑ ุณุงูุงูู ุณูุง ูุงุจู ูุดุงูุฏู ุงุณุช.",
                        "โฐ ฺฉูุงุณโูุง ุฏุงูุดฺฏุงู ููุชุธุฑ ุฏุฑ ุฏู ุดูุช ุตุจุญ (ธ-ฑฒ) ู ุนุตุฑ (ฑด-ฑธ) ุจุฑฺฏุฒุงุฑ ูโุดููุฏ. ฺฉูุงุณโูุง ุนูู ุฏุฑ ุณุงุฎุชูุงู ุนููู ูพุงู ุจุฑฺฏุฒุงุฑ ูโฺฏุฑุฏุฏ."
                    ],
                    "ุจุฑูุงูู": [
                        "๐๏ธ ุจุฑูุงูู ููุชฺฏ ุฏุงูุดฺฏุงู ููุชุธุฑ ุจุฑุง ูุฑ ุชุฑู ุฏุฑ ููุชู ุงูู ุดูุฑูุฑ ููุชุดุฑ ูโุดูุฏ. ุจุฑุง ูุดุงูุฏู ุจู ุณุงูุงูู ุขููุฒุด ูุฑุงุฌุนู ฺฉูุฏ.",
                        "๐ ุจุฑูุงูู ุงูุชุญุงูุงุช ูุงูโุชุฑู ุฏุงูุดฺฏุงู ููุชุธุฑ ุฏุฑ ููุชู ุดุดู ู ุจุฑูุงูู ูพุงุงูโุชุฑู ุฏู ููุชู ูุจู ุงุฒ ุงูุชุญุงูุงุช ุงุนูุงู ูโุดูุฏ."
                    ],

                    // ุซุจุชโูุงู ู ุงูุชุฎุงุจ ูุงุญุฏ
                    "ุซุจุช ูุงู": [
                        "๐ ุซุจุชโูุงู ุชุฑู ูพุงุฒ ฑดฐณ ุฏุงูุดฺฏุงู ููุชุธุฑ ุงุฒ ฑต ุดูุฑูุฑ ุขุบุงุฒ ู ุชุง ฑฐ ููุฑ ุงุฏุงูู ุฏุงุฑุฏ. ุฏุงูุดุฌูุงู ูุญุชุฑู ุชูุฌู ุฏุงุดุชู ุจุงุดูุฏ.",
                        "๐ป ุซุจุชโูุงู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ููุท ุงุฒ ุทุฑู ุณุงูุงูู ุณูุง ุงูุฌุงู ูโุดูุฏ. ุจุฑุง ูุดฺฉูุงุช ูู ุจุง ุงุฏุงุฑู ููุงูุฑ ุงุทูุงุนุงุช ุชูุงุณ ุจฺฏุฑุฏ."
                    ],
                    "ุงูุชุฎุงุจ ูุงุญุฏ": [
                        "๐ ุงูุชุฎุงุจ ูุงุญุฏ ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ุงุฒ ฒฐ ุดูุฑูุฑ ูุนุงู ูโุดูุฏ. ุญุฏุงฺฉุซุฑ ฒฐ ูุงุญุฏ ู ุจุฑุง ุฏุงูุดุฌูุงู ููุชุงุฒ (ูุนุฏู ุจุงูุง ฑท) ฒด ูุงุญุฏ ูุฌุงุฒ ุงุณุช.",
                        "๐ง ุจุฑุง ุชุบุฑ ุฏุฑ ุงูุชุฎุงุจ ูุงุญุฏ ุชุง ูพุงุงู ููุชู ุฏูู ุชุญุตู ูุฑุตุช ุฏุงุฑุฏ. ูพุณ ุงุฒ ุขู ุชููุง ุจุง ูุฌูุฒ ุขููุฒุด ุงูฺฉุงูโูพุฐุฑ ุงุณุช."
                    ],

                    // ุงูุชุญุงูุงุช
                    "ุงูุชุญุงู": [
                        "๐ ุงูุชุญุงูุงุช ูพุงุงูโุชุฑู ุฏุงูุดฺฏุงู ููุชุธุฑ ุงุฒ ฒฐ ุฏ ูุงู ุขุบุงุฒ ูโุดูุฏ. ุจุฑูุงูู ุฏูู ฑต ุฏ ุงุนูุงู ุฎูุงูุฏ ุดุฏ.",
                        "๐ฏ ุงูุชุญุงูุงุช ูุงูโุชุฑู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ูุนูููุงู ุฏุฑ ููุชู ูุดุชู ุจุฑฺฏุฒุงุฑ ูโุดููุฏ. ููุฑู ุงู ุงูุชุญุงูุงุช ดฐูช ููุฑู ูพุงุงู ุฑุง ุชุดฺฉู ูโุฏูุฏ."
                    ],
                    "ููุฑู": [
                        "๐ ููุฑุงุช ุฏุงูุดฺฏุงู ููุชุธุฑ ุญุฏุงฺฉุซุฑ ฑฐ ุฑูุฒ ูพุณ ุงุฒ ุงูุชุญุงู ุฏุฑ ุณุงูุงูู ูุงุฑุฏ ูโุดููุฏ. ุงุนุชุฑุงุถ ุจู ููุฑู ุชุง ทฒ ุณุงุนุช ูพุณ ุงุฒ ุงุนูุงู ุงูฺฉุงูโูพุฐุฑ ุงุณุช.",
                        "๐ ุญุฏุงูู ููุฑู ูุจูู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ฑฐ ูโุจุงุดุฏ. ูุนุฏู ุชุฑู ุฒุฑ ฑฒ ููุฌุฑ ุจู ุงุฎุทุงุฑ ุชุญุตู ูโุดูุฏ."
                    ],

                    // ุงุณุงุชุฏ
                    "ุงุณุชุงุฏ": [
                        "๐จโ๐ซ ูุณุช ุงุณุงุชุฏ ุฏุงูุดฺฏุงู ููุชุธุฑ ุจู ููุฑุงู ุณุงุนุงุช ูุดุงูุฑู ุฏุฑ ุณุงุช ุฏุงูุดฺฏุงู ููุฌูุฏ ุงุณุช. ุจุฑุง ููุงูุงุช ุญุถูุฑ ูุจูุงู ููุงููฺฏ ฺฉูุฏ.",
                        "๐ง ุจุฑุง ุงุฑุชุจุงุท ุจุง ุงุณุงุชุฏ ุฏุงูุดฺฏุงู ููุชุธุฑ ูโุชูุงูุฏ ุงุฒ ุงูู ุฏุงูุดฺฏุงู ุง ุณุงูุงูู LMS ุงุณุชูุงุฏู ฺฉูุฏ."
                    ],

                    // ฺฉุชุงุจุฎุงูู
                    "ฺฉุชุงุจุฎุงูู": [
                        "๐ ฺฉุชุงุจุฎุงูู ูุฑฺฉุฒ ุฏุงูุดฺฏุงู ููุชุธุฑ: ุณุงุนุช ฺฉุงุฑ ท:ณฐ ุชุง ฒฐ:ฐฐ (ูพูุฌุดูุจูโูุง ุชุง ฑด). ุนุถูุช ุจุฑุง ุชูุงู ุฏุงูุดุฌูุงู ุงุฌุจุงุฑ ุงุณุช.",
                        "๐ ฺฉุชุงุจุฎุงูู ุฏุงูุดฺฏุงู ููุชุธุฑ ุฏุงุฑุง ตฐ,ฐฐฐ ุฌูุฏ ฺฉุชุงุจ ู ุฏุณุชุฑุณ ุจู ฒฐ,ฐฐฐ ููุงูู ุจูโุงูููู ุงุณุช. ุฌุณุชุฌู ุขููุงู ุงุฒ ุทุฑู ุณุงุช ฺฉุชุงุจุฎุงูู ุงูฺฉุงูโูพุฐุฑ ุงุณุช."
                    ],

                    // ุฎูุงุจฺฏุงู
                    "ุฎูุงุจฺฏุงู": [
                        "๐ ุฎูุงุจฺฏุงูโูุง ุฏุงูุดฺฏุงู ููุชุธุฑ ุฏุฑ ูุญูุทู ุฏุงูุดฺฏุงู ูุงูุน ุดุฏูโุงูุฏ. ุธุฑูุช ูุญุฏูุฏ ุงุณุช ู ุงูููุช ุจุง ุฏุงูุดุฌูุงู ุดูุฑุณุชุงู ูโุจุงุดุฏ.",
                        "๐ฐ ูุฒูู ุฎูุงุจฺฏุงู ุฏุงูุดฺฏุงู ููุชุธุฑ ุชุฑู ฒ,ตฐฐ,ฐฐฐ ุชููุงู ูโุจุงุดุฏ. ุซุจุชโูุงู ุงุฒ ฑฐ ุดูุฑูุฑ ุขุบุงุฒ ูโุดูุฏ."
                    ],

                    // ูุงู
                    "ุดูุฑู": [
                        "๐ต ุดูุฑู ุซุงุจุช ุฏุงูุดฺฏุงู ููุชุธุฑ: ณ,ฐฐฐ,ฐฐฐ ุชููุงู. ุดูุฑู ูุชุบุฑ ุจุฑ ุงุณุงุณ ุชุนุฏุงุฏ ูุงุญุฏ ูุญุงุณุจู ูโุดูุฏ.",
                        "โณ ูููุช ูพุฑุฏุงุฎุช ุดูุฑู ุฏุงูุดฺฏุงู ููุชุธุฑ ุชุง ูพุงุงู ููุชู ุณูู ุชุญุตู ูโุจุงุดุฏ. ูพุณ ุงุฒ ุขู ฑตูช ุฌุฑูู ุฏุฑุงูุช ูโุดูุฏ."
                    ],
                    "ูุงู": [
                        "๐ฆ ูุงู ุชุญุตู ุฏุงูุดฺฏุงู ููุชุธุฑ: ุญุฏุงฺฉุซุฑ ฑต ูููู ุชููุงู. ุดุฑุงุท: ูุนุฏู ุจุงูุง ฑด ู ุนุฏู ุงูุณุงุท ูุนููู.",
                        "๐ ุจุฑุง ุฏุฑุงูุช ูุงู ุฏุงูุดฺฏุงู ููุชุธุฑ ุจู ุงุฏุงุฑู ุงููุฑ ุฏุงูุดุฌู ูุงูุน ุฏุฑ ุณุงุฎุชูุงู ูุฑฺฉุฒ ูุฑุงุฌุนู ฺฉูุฏ."
                    ],

                    // ุชุบุฑ ุฑุดุชู
                    "ุชุบุฑ ุฑุดุชู": [
                        "๐ ุชุบุฑ ุฑุดุชู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ููุท ุฏุฑ ุงุจุชุฏุง ุณุงู ุชุญุตู ู ุจุง ุดุฑุท ูุนุฏู ุจุงูุง ฑต ุงูฺฉุงูโูพุฐุฑ ุงุณุช.",
                        "๐ ุจุฑุง ุชุบุฑ ุฑุดุชู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ุจุงุฏ ูุฑู ุฏุฑุฎูุงุณุช ุฑุง ุงุฒ ุงุฏุงุฑู ุขููุฒุด ฺฏุฑูุชู ู ูพุณ ุงุฒ ุชุฃุฏ ูุฏุฑ ฺฏุฑููุ ุจู ุดูุฑุง ุขููุฒุด ุงุฑุงุฆู ุฏูุฏ."
                    ],

                    // ุงูุถุจุงุท
                    "ุงูุถุจุงุท": [
                        "โ๏ธ ุขูโูุงูู ุงูุถุจุงุท ุฏุงูุดฺฏุงู ููุชุธุฑ ุฏุฑ ุณุงุช ุฏุงูุดฺฏุงู ููุชุดุฑ ุดุฏู ุงุณุช. ุบุจุช ุจุด ุงุฒ ด ุฌูุณู ุฏุฑ ูุฑ ุฏุฑุณ ููุฌุฑ ุจู ูุญุฑููุช ุงุฒ ุงูุชุญุงู ูโุดูุฏ.",
                        "๐ ุฑุนุงุช ุดุฆููุงุช ุงุณูุงู ู ูพูุดุด ููุงุณุจ ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ุงูุฒุงู ุงุณุช. ุชุฎููุงุช ุฏุฑ ุดูุฑุง ุงูุถุจุงุท ุจุฑุฑุณ ูโุดููุฏ."
                    ]
                };

                const lowerQuestion = question.toLowerCase();
                
                for (const [keyword, answers] of Object.entries(montazeriKnowledge)) {
                    if (lowerQuestion.includes(keyword)) {
                        const randomIndex = Math.floor(Math.random() * answers.length);
                        return answers[randomIndex];
                    }
                }

                const generalResponses = [
                    "ุจุฑุง ุงุทูุงุนุงุช ุฏูู ุฏุฑ ุงู ููุฑุฏุ ูพุดููุงุฏ ูโฺฉูู ุจู ุงุฏุงุฑู ุขููุฒุด ุฏุงูุดฺฏุงู ููุชุธุฑ ูุฑุงุฌุนู ููุงุฏ.",
                    "ูุทูุงู ุจุง ูุณุฆูู ูุฑุจูุทู ุฏุฑ ุฏุงูุดฺฉุฏู ุฎูุฏ ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ุชูุงุณ ุจฺฏุฑุฏ.",
                    "ุงุทูุงุนุงุช ฺฉุงูู ุฏุฑ ุงู ุฒููู ุฏุฑ ุณุงูุงูู ุขููุฒุด ุฏุงูุดฺฏุงู ููุชุธุฑ ููุฌูุฏ ุงุณุช.",
                    "ุจุฑุง ูพุงุณุฎ ุฏูู ุจู ุงู ุณูุงูุ ูุงุฒ ุจู ุจุฑุฑุณ ูพุฑููุฏู ุชุญุตู ุดูุง ุฏุงุฑู. ุจุง ุฑุงูููุง ุขููุฒุด ุฏุงูุดฺฏุงู ููุชุธุฑ ูุดูุฑุช ฺฉูุฏ."
                ];

                return generalResponses[Math.floor(Math.random() * generalResponses.length)];
            }

            getUniversityResponse(question) {
                const basicKnowledge = {
                    "ฺฉูุงุณ": "ุจุฑูุงูู ฺฉูุงุณโูุง ุฏุงูุดฺฏุงู ููุชุธุฑ ุฏุฑ ุณุงูุงูู ุณูุง ูุงุจู ูุดุงูุฏู ุงุณุช.",
                    "ุงูุชุญุงู": "ุจุฑูุงูู ุงูุชุญุงูุงุช ุฏุงูุดฺฏุงู ููุชุธุฑ ุฏู ููุชู ูุจู ุงุฒ ุดุฑูุน ุงุนูุงู ูโุดูุฏ.",
                    "ุซุจุช ูุงู": "ุซุจุชโูุงู ุฏุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ุงุฒ ุทุฑู ุณุงูุงูู ุณูุง ุงูุฌุงู ูโุดูุฏ.",
                    "ุงุณุชุงุฏ": "ูุณุช ุงุณุงุชุฏ ุฏุงูุดฺฏุงู ููุชุธุฑ ุฏุฑ ุณุงุช ุฏุงูุดฺฏุงู ููุฌูุฏ ุงุณุช.",
                    "ฺฉุชุงุจุฎุงูู": "ฺฉุชุงุจุฎุงูู ุฏุงูุดฺฏุงู ููุชุธุฑ ุงุฒ ท:ณฐ ุชุง ฒฐ:ฐฐ ูุนุงู ุงุณุช."
                };
                
                const lowerQuestion = question.toLowerCase();
                for (const [key, answer] of Object.entries(basicKnowledge)) {
                    if (lowerQuestion.includes(key)) {
                        return answer;
                    }
                }
                
                return "ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุจุง ุงุฏุงุฑู ุขููุฒุด ุฏุงูุดฺฏุงู ููุชุธุฑ ุชูุงุณ ุจฺฏุฑุฏ: ฐฒฑ-ถถฑตฐฐฐฐ";
            }

            displayMessage(message, sender) {
                const chatMessages = document.getElementById('chat-messages');
                if (!chatMessages) return;
                
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}-message`;
                messageDiv.innerHTML = `
                    <div class="message-content">
                        ${message}
                        <div class="message-time">${this.getCurrentTime()}</div>
                    </div>
                `;
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            showTypingIndicator() {
                const typingIndicator = document.getElementById('typing-indicator');
                if (typingIndicator) {
                    typingIndicator.style.display = 'block';
                    const chatMessages = document.getElementById('chat-messages');
                    if (chatMessages) {
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }
                }
            }

            hideTypingIndicator() {
                const typingIndicator = document.getElementById('typing-indicator');
                if (typingIndicator) {
                    typingIndicator.style.display = 'none';
                }
            }

            getCurrentTime() {
                const now = new Date();
                return now.toLocaleTimeString('fa-IR', { hour: '2-digit', minute: '2-digit' });
            }

            clearChat() {
                const chatMessages = document.getElementById('chat-messages');
                if (chatMessages) {
                    chatMessages.innerHTML = '';
                    this.conversationHistory = [];
                    this.displayMessage('ูฺฉุงููู ุฌุฏุฏ ุจุง ุฏุณุชุงุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ุขุบุงุฒ ุดุฏ. ฺฺฏููู ูโุชูุงูู ฺฉูฺฉโุชุงู ฺฉููุ', 'bot');
                }
            }

            exportConversation() {
                if (this.conversationHistory.length > 0) {
                    const data = {
                        university: "ุฏุงูุดฺฏุงู ููุชุธุฑ",
                        exportDate: new Date().toLocaleDateString('fa-IR'),
                        conversations: this.conversationHistory
                    };
                    
                    const dataStr = JSON.stringify(data, null, 2);
                    const blob = new Blob([dataStr], {type: 'application/json'});
                    const url = URL.createObjectURL(blob);
                    
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `montazeri-university-chat-${new Date().toLocaleDateString('fa-IR')}.json`;
                    a.click();
                    
                    URL.revokeObjectURL(url);
                    this.displayMessage('ูฺฉุงููู ุจุง ููููุช ุฐุฎุฑู ุดุฏ.', 'bot');
                } else {
                    this.displayMessage('ูฺ ูฺฉุงูููโุง ุจุฑุง ุฐุฎุฑู ฺฉุฑุฏู ูุฌูุฏ ูุฏุงุฑุฏ.', 'bot');
                }
            }
        }

        // ุฑุงูโุงูุฏุงุฒ ุฏุณุชุงุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ
        document.addEventListener('DOMContentLoaded', function() {
            window.montazeriAssistant = new MontazeriUniversityAssistant();
            console.log('๐ ุฏุณุชุงุฑ ุฏุงูุดฺฏุงู ููุชุธุฑ ุฑุงูโุงูุฏุงุฒ ุดุฏ');
        });
    </script>
</body>
</html>